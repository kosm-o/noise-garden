(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("24ce"),o=n.n(r);o.a},"0f36":function(e,t,n){"use strict";var r=n("2471"),o=n.n(r);o.a},2230:function(e,t,n){"use strict";var r=n("e059"),o=n.n(r);o.a},2471:function(e,t,n){},"24ce":function(e,t,n){},2519:function(e,t,n){"use strict";var r=n("2609"),o=n.n(r);o.a},2609:function(e,t,n){},"2ed5":function(e,t){(function(e){var t=e.noise={};function n(e,t,n){this.x=e,this.y=t,this.z=n}n.prototype.dot2=function(e,t){return this.x*e+this.y*t},n.prototype.dot3=function(e,t,n){return this.x*e+this.y*t+this.z*n};var r=[new n(1,1,0),new n(-1,1,0),new n(1,-1,0),new n(-1,-1,0),new n(1,0,1),new n(-1,0,1),new n(1,0,-1),new n(-1,0,-1),new n(0,1,1),new n(0,-1,1),new n(0,1,-1),new n(0,-1,-1)],o=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],a=new Array(512),i=new Array(512);t.seed=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;n=1&t?o[t]^255&e:o[t]^e>>8&255,a[t]=a[t+256]=n,i[t]=i[t+256]=r[n%12]}},t.seed(0);var s=.5*(Math.sqrt(3)-1),l=(3-Math.sqrt(3))/6,c=1/3,u=1/6;function d(e){return e*e*e*(e*(6*e-15)+10)}function p(e,t,n){return(1-n)*e+n*t}t.simplex2=function(e,t){var n,r,o,c,u,d=(e+t)*s,p=Math.floor(e+d),f=Math.floor(t+d),m=(p+f)*l,v=e-p+m,h=t-f+m;v>h?(c=1,u=0):(c=0,u=1);var g=v-c+l,y=h-u+l,b=v-1+2*l,C=h-1+2*l;p&=255,f&=255;var w=i[p+a[f]],x=i[p+c+a[f+u]],_=i[p+1+a[f+1]],E=.5-v*v-h*h;E<0?n=0:(E*=E,n=E*E*w.dot2(v,h));var A=.5-g*g-y*y;A<0?r=0:(A*=A,r=A*A*x.dot2(g,y));var T=.5-b*b-C*C;return T<0?o=0:(T*=T,o=T*T*_.dot2(b,C)),70*(n+r+o)},t.simplex3=function(e,t,n){var r,o,s,l,d,p,f,m,v,h,g=(e+t+n)*c,y=Math.floor(e+g),b=Math.floor(t+g),C=Math.floor(n+g),w=(y+b+C)*u,x=e-y+w,_=t-b+w,E=n-C+w;x>=_?_>=E?(d=1,p=0,f=0,m=1,v=1,h=0):x>=E?(d=1,p=0,f=0,m=1,v=0,h=1):(d=0,p=0,f=1,m=1,v=0,h=1):_<E?(d=0,p=0,f=1,m=0,v=1,h=1):x<E?(d=0,p=1,f=0,m=0,v=1,h=1):(d=0,p=1,f=0,m=1,v=1,h=0);var A=x-d+u,T=_-p+u,F=E-f+u,q=x-m+2*u,P=_-v+2*u,S=E-h+2*u,D=x-1+3*u,k=_-1+3*u,G=E-1+3*u;y&=255,b&=255,C&=255;var M=i[y+a[b+a[C]]],N=i[y+d+a[b+p+a[C+f]]],$=i[y+m+a[b+v+a[C+h]]],I=i[y+1+a[b+1+a[C+1]]],B=.6-x*x-_*_-E*E;B<0?r=0:(B*=B,r=B*B*M.dot3(x,_,E));var O=.6-A*A-T*T-F*F;O<0?o=0:(O*=O,o=O*O*N.dot3(A,T,F));var R=.6-q*q-P*P-S*S;R<0?s=0:(R*=R,s=R*R*$.dot3(q,P,S));var V=.6-D*D-k*k-G*G;return V<0?l=0:(V*=V,l=V*V*I.dot3(D,k,G)),32*(r+o+s+l)},t.perlin2=function(e,t){var n=Math.floor(e),r=Math.floor(t);e-=n,t-=r,n&=255,r&=255;var o=i[n+a[r]].dot2(e,t),s=i[n+a[r+1]].dot2(e,t-1),l=i[n+1+a[r]].dot2(e-1,t),c=i[n+1+a[r+1]].dot2(e-1,t-1),u=d(e);return p(p(o,l,u),p(s,c,u),d(t))},t.perlin3=function(e,t,n){var r=Math.floor(e),o=Math.floor(t),s=Math.floor(n);e-=r,t-=o,n-=s,r&=255,o&=255,s&=255;var l=i[r+a[o+a[s]]].dot3(e,t,n),c=i[r+a[o+a[s+1]]].dot3(e,t,n-1),u=i[r+a[o+1+a[s]]].dot3(e,t-1,n),f=i[r+a[o+1+a[s+1]]].dot3(e,t-1,n-1),m=i[r+1+a[o+a[s]]].dot3(e-1,t,n),v=i[r+1+a[o+a[s+1]]].dot3(e-1,t,n-1),h=i[r+1+a[o+1+a[s]]].dot3(e-1,t-1,n),g=i[r+1+a[o+1+a[s+1]]].dot3(e-1,t-1,n-1),y=d(e),b=d(t),C=d(n);return p(p(p(l,m,y),p(c,v,y),C),p(p(u,h,y),p(f,g,y),C),b)}})(this)},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"row main-panel"},[n("div",{staticStyle:{width:"450px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-7"},[n("div",{staticClass:"col-sm-11"},[n("div",{staticClass:"title",attrs:{id:"main-name"}},[e._v(e._s(this.mainName))])])]),n("div",{staticClass:"col-sm-4",attrs:{id:"midi-select"}},[n("select",{attrs:{id:"midiSelect"},on:{change:e.midiSourceChange}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("no midi devices...")])])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-5"},[this.contentLoaded?n("oscillator",{ref:"oscillator",attrs:{audioCtx:this.audioCtx}}):e._e(),this.contentLoaded?n("arpeggiator",{ref:"arpeggiator",attrs:{audioCtx:this.audioCtx}}):e._e()],1),n("div",{staticClass:"col-sm-7"},[this.contentLoaded?n("envelope",{ref:"envelope",attrs:{audioCtx:this.audioCtx}}):e._e()],1)])]),n("div",{staticClass:"col-sm-2"},[this.contentLoaded?n("blobStuff",{ref:"bloblStuff"}):e._e()],1)])])},a=[],i=(n("7f7f"),new r["a"]),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"osc"}},[n("div",{staticClass:"row center"},[e._m(0),n("div",{staticClass:"col-sm"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.oscPitchShift,expression:"oscPitchShift"}],staticClass:"counter",attrs:{type:"number",step:"1","data-toggle":"tooltip","data-placement":"top",title:"osc pitch"},domProps:{value:e.oscPitchShift},on:{input:function(t){t.target.composing||(e.oscPitchShift=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.oscDetune,expression:"oscDetune"}],staticClass:"counter",attrs:{type:"number",step:"1","data-toggle":"tooltip","data-placement":"top",title:"osc detune"},domProps:{value:e.oscDetune},on:{input:function(t){t.target.composing||(e.oscDetune=t.target.value)}}})])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm"},[n("vue-slider",e._b({staticClass:"osc-vol",on:{input:function(t){e.volChange()}},model:{value:e.oscVol,callback:function(t){e.oscVol=t},expression:"oscVol"}},"vue-slider",this.options,!1))],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm"},[n("input",{attrs:{type:"radio",name:"wave-shape1",value:"sine",id:"sine1",checked:"true"},on:{click:function(t){e.waveChange("sine")}}}),e._m(1),n("input",{attrs:{type:"radio",name:"wave-shape1",value:"square",id:"square1"},on:{click:function(t){e.waveChange("square")}}}),e._m(2),n("input",{attrs:{type:"radio",name:"wave-shape1",value:"saw",id:"saw1"},on:{click:function(t){e.waveChange("sawtooth")}}}),e._m(3),n("input",{attrs:{type:"radio",name:"wave-shape1",value:"randomWave",id:"randomWave1"},on:{click:function(t){e.waveChange("randomWave")}}}),e._m(4)])])])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-sm-3"},[n("h5",[e._v("osc1")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"sine1"}},[n("h4",[e._v("sine")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"square1"}},[n("h4",[e._v("square")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"saw1"}},[n("h4",[e._v("saw")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"randomWave1"}},[n("h4",[e._v("random")])])}],c=(n("6c7b"),n("456d"),n("ac6a"),n("6f79")),u=n.n(c),d=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"env"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"pad-container"},[n("h4",[e._v("amp control")]),n("div",{staticClass:"pad",attrs:{id:"amp-pad"}},[n("div",{staticClass:"drag",attrs:{id:"amp-drag"}})])]),n("div",{staticClass:"pad-container"},[n("h4",[e._v("filter control")]),n("div",{staticClass:"pad",attrs:{id:"filter-pad"}},[n("div",{staticClass:"drag",attrs:{id:"filter-drag"}})])])])])}],f={name:"envelope",props:["audioCtx"],data:function(){return{ampPadX:0,ampPadY:0,filterPadX:0,filterPadY:0,ampEnvs:{},filterEnvs:{},decay:.5,sustain:1}},computed:{ampAttack:function(){return parseFloat(this.ampPadX/100)},ampRelease:function(){return parseFloat(this.ampPadY/50)},filterAttack:function(){return parseFloat(this.ampPadX/100)},filterRelease:function(){return parseFloat(this.ampPadY/50)},filterFreq:function(){return parseFloat(200*this.filterPadX)},filterQ:function(){return parseFloat(this.filterPadY/2)}},methods:{startEnv:function(e){var t=this,n=e["note"],r=e["osc"];t.ampEnvs[n]=t.audioCtx.createGain(),t.ampEnvs[n].gain.value=0,t.filterEnvs[n]=t.audioCtx.createBiquadFilter(),t.filterEnvs[n].frequency.value=0,t.filterEnvs[n].Q.value=t.filterQ,r.connect(t.ampEnvs[n]),t.ampEnvs[n].connect(t.filterEnvs[n]),t.ampEnvs[n].gain.linearRampToValueAtTime(.5,t.audioCtx.currentTime+t.ampAttack),t.filterEnvs[n].frequency.linearRampToValueAtTime(t.filterFreq,t.audioCtx.currentTime+t.filterAttack),t.filterEnvs[n].connect(t.audioCtx.destination)},stopEnv:function(e){var t=this,n=e["note"];e["osc"];t.ampEnvs[n].gain.cancelAndHoldAtTime(t.audioCtx.currentTime),t.ampEnvs[n].gain.linearRampToValueAtTime(0,t.audioCtx.currentTime+t.ampRelease+.01),t.filterEnvs[n].frequency.cancelAndHoldAtTime(t.audioCtx.currentTime),t.filterEnvs[n].frequency.linearRampToValueAtTime(0,t.audioCtx.currentTime+t.filterRelease+.01)}},mounted:function(){var e=this;i.$on("env-start",function(t){e.startEnv(t)}),i.$on("env-stop",function(t){e.stopEnv(t)});var t=document.querySelector("#amp-drag"),n=t.getBoundingClientRect(),r=document.querySelector("#amp-pad"),o=r.getBoundingClientRect();t.style.left=0+t.style.marginLeft,t.style.top=0+t.style.marginTop,e.ampPadX=parseInt(t.style.left)+10,e.ampPadY=parseInt(t.style.top)+10,t.onmousedown=function(a){t.style.top=a.clientY-parseInt((n.top+n.bottom)/2)+"px",t.style.left=a.clientX-parseInt((n.right+n.left)/2)+"px",r.onmousemove=function(a){a.preventDefault();var i=parseInt((n.top+n.bottom)/2),s=parseInt((n.right+n.left)/2);a.clientY>o.top+10&&a.clientY<o.bottom-10&&(t.style.top=a.clientY-i+"px"),a.clientX>o.left+10&&a.clientX<o.right-10&&(t.style.left=a.clientX-s+"px"),document.onmouseup=function(){r.onmousemove=null},e.ampPadX=parseInt(t.style.left)+10,e.ampPadY=parseInt(t.style.top)+10}};var a=document.querySelector("#filter-drag"),s=a.getBoundingClientRect(),l=document.querySelector("#filter-pad"),c=l.getBoundingClientRect();a.style.left=0,a.style.top=0,e.filterPadX=parseInt(a.style.left)+10,e.filterPadY=parseInt(a.style.top)+10,i.$emit("filter-change",e.filterFreq),a.onmousedown=function(t){a.style.top=t.clientY-parseInt((s.top+s.bottom)/2)+"px",a.style.left=t.clientX-parseInt((s.right+s.left)/2)+"px",l.onmousemove=function(t){t.preventDefault();var n=parseInt((s.top+s.bottom)/2),r=parseInt((s.right+s.left)/2);t.clientY>c.top+10&&t.clientY<c.bottom-10&&(a.style.top=t.clientY-n+"px"),t.clientX>c.left+10&&t.clientX<c.right-10&&(a.style.left=t.clientX-r+"px"),document.onmouseup=function(){l.onmousemove=null},e.filterPadX=parseInt(a.style.left)+10,e.filterPadY=parseInt(a.style.top)+10,e.filterEnvs&&Object.keys(e.filterEnvs).forEach(function(t){e.filterEnvs[t].frequency.linearRampToValueAtTime(e.filterFreq,e.audioCtx.currentTime+.05),e.filterEnvs[t].Q.linearRampToValueAtTime(e.filterQ,e.audioCtx.currentTime+.05),i.$emit("filter-change",e.filterFreq)})}}}},m=f,v=(n("9b09"),n("2877")),h=Object(v["a"])(m,d,p,!1,null,"47bcaed8",null);h.options.__file="Envelope.vue";var g=h.exports,y={name:"oscillator",components:{vueSlider:u.a},props:["audioCtx"],data:function(){return{color:[204,255,255],gains:{},compressors:{},oscs:{},oscVol:.5,oscPitchShift:0,oscDetune:0,oscType:"sine",randomWave:!1,randomWaveShape:null,gainNode:null,pressedNotes:{},options:{tooltip:"hover",min:0,max:1,interval:.01,tooltipStyle:{backgroundColor:"#ffbf00",borderColor:"#ffbf00",color:"#000",fontFamily:"'Poppins', sans-serif",fontWeight:"100",fontStyle:"italic",fontSize:"14px"},processStyle:{backgroundColor:"#ffbf00"}},noteFreqs:{C0:16.35,"C#0":17.32,Db0:17.32,D0:18.35,"D#0":19.45,Eb0:19.45,E0:20.6,F0:21.83,"F#0":23.12,Gb0:23.12,G0:24.5,"G#0":25.96,Ab0:25.96,A0:27.5,"A#0":29.14,Bb0:29.14,B0:30.87,C1:32.7,"C#1":34.65,Db1:34.65,D1:36.71,"D#1":38.89,Eb1:38.89,E1:41.2,F1:43.65,"F#1":46.25,Gb1:46.25,G1:49,"G#1":51.91,Ab1:51.91,A1:55,"A#1":58.27,Bb1:58.27,B1:61.74,C2:65.41,"C#2":69.3,Db2:69.3,D2:73.42,"D#2":77.78,Eb2:77.78,E2:82.41,F2:87.31,"F#2":92.5,Gb2:92.5,G2:98,"G#2":103.83,Ab2:103.83,A2:110,"A#2":116.54,Bb2:116.54,B2:123.47,C3:130.81,"C#3":138.59,Db3:138.59,D3:146.83,"D#3":155.56,Eb3:155.56,E3:164.81,F3:174.61,"F#3":185,Gb3:185,G3:196,"G#3":207.65,Ab3:207.65,A3:220,"A#3":233.08,Bb3:233.08,B3:246.94,C4:261.63,"C#4":277.18,Db4:277.18,D4:293.66,"D#4":311.13,Eb4:311.13,E4:329.63,F4:349.23,"F#4":369.99,Gb4:369.99,G4:392,"G#4":415.3,Ab4:415.3,A4:440,"A#4":466.16,Bb4:466.16,B4:493.88,C5:523.25,"C#5":554.37,Db5:554.37,D5:587.33,"D#5":622.25,Eb5:622.25,E5:659.26,F5:698.46,"F#5":739.99,Gb5:739.99,G5:783.99,"G#5":830.61,Ab5:830.61,A5:880,"A#5":932.33,Bb5:932.33,B5:987.77,C6:1046.5,"C#6":1108.73,Db6:1108.73,D6:1174.66,"D#6":1244.51,Eb6:1244.51,E6:1318.51,F6:1396.91,"F#6":1479.98,Gb6:1479.98,G6:1567.98,"G#6":1661.22,Ab6:1661.22,A6:1760,"A#6":1864.66,Bb6:1864.66,B6:1975.53,C7:2093,"C#7":2217.46,Db7:2217.46,D7:2349.32,"D#7":2489.02,Eb7:2489.02,E7:2637.02,F7:2793.83,"F#7":2959.96,Gb7:2959.96,G7:3135.96,"G#7":3322.44,Ab7:3322.44,A7:3520,"A#7":3729.31,Bb7:3729.31,B7:3951.07,C8:4186.01,"C#8":4434.92,Db8:4434.92,D8:4698.64,"D#8":4978.03,Eb8:4978.03}}},methods:{startOsc:function(e){var t=this;null==t.pressedNotes[e]&&(t.color[0]=Math.abs(parseInt(255*Math.sin(t.noteFreqs[e]-990))),t.color[1]=Math.abs(parseInt(255*Math.cos(t.noteFreqs[e]-2230))),t.color[2]=Math.abs(parseInt(255*Math.tan(t.noteFreqs[e]-672))),t.pressedNotes[e]=t.noteFreqs[e],t.oscs[e]=t.audioCtx.createOscillator(),t.gains[e]=t.audioCtx.createGain(),t.compressors[e]=t.audioCtx.createDynamicsCompressor(),t.compressors[e].threshold.setValueAtTime(-50,t.audioCtx.currentTime),t.compressors[e].knee.setValueAtTime(40,t.audioCtx.currentTime),t.compressors[e].ratio.setValueAtTime(12,t.audioCtx.currentTime),t.compressors[e].attack.setValueAtTime(0,t.audioCtx.currentTime),t.compressors[e].release.setValueAtTime(.25,t.audioCtx.currentTime),t.oscs[e].type=t.oscType,1==t.randomWave&&t.oscs[e].setPeriodicWave(t.randomWaveShape),t.oscs[e].frequency.value=t.noteFreqs[e],t.oscs[e].detune.value=100*parseInt(t.oscPitchShift)+parseInt(t.oscDetune),t.oscs[e].connect(t.compressors[e]),t.compressors[e].connect(t.gains[e]),t.gains[e].gain.value=t.oscVol,t.oscs[e].start(0),i.$emit("env-start",{note:e,osc:t.gains[e]}))},stopOsc:function(e){var t=this;i.$emit("env-stop",{note:e,osc:t.oscs[e]}),t.color=[204,255,255],delete t.pressedNotes[e],t.oscs[e].stop(t.audioCtx.currentTime+2.1)},volChange:function(){var e=this;Object.keys(this.gains).forEach(function(t){return e.gains[t].gain.linearRampToValueAtTime(e.oscVol,e.audioCtx.currentTime+.05)})},waveChange:function(e){if("randomWave"==e){var t=parseInt(15*Math.random()),n=new Array(t).fill(0).map(function(e){return 2.5*Math.random()}),r=new Array(t).fill(0).map(function(e){return 1.6*Math.random()});this.randomWaveShape=this.audioCtx.createPeriodicWave(n,r,{disableNormalization:!0}),this.randomWave=!0}else this.randomWave=!1,this.oscType=e}},mounted:function(){var e=this,t=this;this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=0,i.$on("arp-start",function(n){i.$emit("freq-on",t.noteFreqs[n]),e.startOsc(n)}),i.$on("arp-stop",function(n){i.$emit("freq-off",t.noteFreqs[n]),null!=e.oscs[n]&&e.stopOsc(n)})}},b=y,C=(n("2230"),Object(v["a"])(b,s,l,!1,null,"f8515e7a",null));C.options.__file="Oscillator.vue";var w=C.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"arp"}})},_=[],E={name:"arpeggiator",components:{vueSlider:u.a},props:["audioCtx"],data:function(){return{pressedNotes:{},arpped:!1}},methods:{getPressedNotes:function(){return this.pressedNotes},startArpeggiate:function(){for(var e=this,t=1;t<50;t++)setTimeout(function(){var t=1,n=function(n){e.pressedNotes.hasOwnProperty(n)&&(setTimeout(function(){i.$emit("arp-start",n)},100*t),setTimeout(function(){i.$emit("arp-stop",n)},100*(t+1)),t++)};for(var r in e.pressedNotes)n(r)},400*t)},stopArpeggiate:function(e){delete this.pressedNotes[e],i.$emit("arp-stop",e)}},mounted:function(){var e=this;this.gainNode=this.audioCtx.createGain(),this.gainNode.connect(this.audioCtx.destination),this.gainNode.gain.value=0,i.$on("key-press",function(t){e.pressedNotes[t]=t,!e.arpped&&Object.keys(e.pressedNotes).length>=4&&(e.startArpeggiate(),e.arpped=!0)}),i.$on("key-release",function(t){e.stopArpeggiate(t)})}},A=E,T=(n("0f36"),Object(v["a"])(A,x,_,!1,null,"750873e0",null));T.options.__file="Arpeggiator.vue";var F=T.exports,q=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"blob"}},[n("div",{attrs:{id:"canvas"}})])}],S={name:"blobStuff",data:function(){return{noise:null,Three:null,pressedNotes:{},renderer:null,scene:null,camera:null,sphere:null,sphereGeometry:null,material:null,morph:0,filterFreq:0}},methods:{init:function(){var e=this,t=document.querySelector("#canvas");e.renderer=new e.Three.WebGLRenderer({antialias:!0}),t.appendChild(e.renderer.domElement),e.renderer.setClearColor(13434879),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.setSize(t.offsetWidth,t.offsetHeight),e.scene=new e.Three.Scene,e.camera=new e.Three.PerspectiveCamera(45,t.offsetWidth/t.offsetHeight,.1,1e3),e.camera.position.z=5,e.sphereGeometry=new e.Three.SphereGeometry(1,30,30),e.material=new e.Three.MeshLambertMaterial;var n=new e.Three.SpotLight(8421504);n.position.set(-40,30,10),e.scene.add(n),e.sphere=new e.Three.Mesh(e.sphereGeometry,e.material),e.old=new e.Three.Mesh(e.sphereGeometry,e.material),e.scene.add(e.sphere),e.old=[];for(var r=0;r<e.sphere.geometry.vertices.length;r++)e.old.push(e.sphere.geometry.vertices[r])},update:function(){var e=this,t=this;Object.keys(t.pressedNotes).forEach(function(n){e.morph+=t.pressedNotes[n]});var n=5e-5*t.morph,r=t.filterFreq/8e3;if(Object.keys(t.pressedNotes).length)for(var o=0;o<t.sphere.geometry.vertices.length;o++){var a=t.sphere.geometry.vertices[o];a.normalize().multiplyScalar(1+t.filterFreq/3e4*this.noise.noise.perlin3(a.x*r+n,a.y*r,a.z*r))}else for(o=0;o<t.sphere.geometry.vertices.length;o++)t.sphere.geometry.vertices[o].x=(t.old[o].x+t.sphere.geometry.vertices[o].x)/2,t.sphere.geometry.vertices[o].y=(t.old[o].y+t.sphere.geometry.vertices[o].y)/2,t.sphere.geometry.vertices[o].z=(t.old[o].z+t.sphere.geometry.vertices[o].z)/2,t.sphere.geometry.vertices[o];t.sphere.geometry.computeVertexNormals(),t.sphere.geometry.normalsNeedUpdate=!0,t.sphere.geometry.verticesNeedUpdate=!0}},mounted:function(){this.Three=n("5a89"),this.noise=n("2ed5");var e=this;function t(){e.update(),e.renderer.render(e.scene,e.camera),requestAnimationFrame(t)}i.$on("freq-on",function(t){e.pressedNotes[t]=t}),i.$on("freq-off",function(t){delete e.pressedNotes[t]}),i.$on("filter-change",function(t){e.filterFreq=t}),e.init(),requestAnimationFrame(t)}},D=S,k=(n("2519"),Object(v["a"])(D,q,P,!1,null,"425c2558",null));k.options.__file="BlobStuff.vue";var G=k.exports,M={name:"app",components:{oscillator:w,envelope:g,arpeggiator:F,blobStuff:G},data:function(){return{mainName:"the_noise",contentLoaded:!1,globalVolume:.05,gainNode:null,audioCtx:null,webMidi:null,pressedKeys:{},keyMap:{a:"C4",w:"C#4",s:"D4",e:"D#4",d:"E4",f:"F4",t:"F#4",g:"G4",y:"G#4",h:"A4",u:"A#4",j:"B4",k:"C5"}}},methods:{init:function(){var e=window.AudioContext||window.webkitAudioContext;this.audioCtx=new e,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.contentLoaded=!0},keyPress:function(e){var t;null!=(t=this.keyMap[e.key])&&i.$emit("arp-start",t)},keyRelease:function(e){var t;null!=(t=this.keyMap[e.key])&&i.$emit("arp-stop",t)},midiSourceChange:function(){var e=document.getElementById("midi-select"),t=e.value,n=this.webMidi.getInputById(t);this.midiInput=n}},mounted:function(){var e=this;e.init(),window.addEventListener("keydown",function(t){e.keyPress(t)}),window.addEventListener("keyup",function(t){e.keyRelease(t)});var t=n("c62b");e.webMidi=t,e.webMidi.enable(function(e){for(var n=t.inputs,r=0;r<n.length;r++){var o=n[r],a=document.createElement("option");a.textContent=o._midiInput.name,a.value=o._midiInput.id,midiSelect.appendChild(a)}if(console.log(n),n.length>0){var s=t.getInputById(n[0].id);document.querySelector("#midiSelect").selectedIndex=1,s.addListener("noteon","all",function(e){i.$emit("arp-start",e.note.name+e.note.octave)}),s.addListener("noteoff","all",function(e){i.$emit("arp-stop",e.note.name+e.note.octave)})}})}},N=M,$=(n("034f"),Object(v["a"])(N,o,a,!1,null,null,null));$.options.__file="App.vue";var I=$.exports;n("4989"),n("ab8b"),n("6e0e");r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(I)}}).$mount("#app")},"6e0e":function(e,t,n){},"84fa":function(e,t,n){},"9b09":function(e,t,n){"use strict";var r=n("84fa"),o=n.n(r);o.a},e059:function(e,t,n){}});
//# sourceMappingURL=app.a18fc3e7.js.map